!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.MProgress=b()}(this,function(){var a={};a.name="modal-mprogress",a.version="0.1.0",a.handle=null;var b=a.settings={title:"MProgress ...",progress:0,ariavaluemin:0,ariavaluemax:100,milliseconds:1e3,secondstimeout:30};return a.template='<div id="'+a.name+'" class="modal fade" ><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">'+a.settings.title+'</h4></div><div class="modal-body"><div class="progress"><div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="5" aria-valuemin="'+a.settings.ariavaluemin+'" aria-valuemax="'+a.settings.ariavaluemax+'" style="width: 5%"> 5%</div></div></div></div></div></div>',a.configure=function(c){var d,e;for(d in c)e=c[d],void 0!==e&&c.hasOwnProperty(d)&&(b[d]=e),"title"===d&&$("#"+a.name+" .modal-title").html(a.settings.title);return this},a.eventDone=function(b){$("#"+a.name).off("EVENT_MPROGRESS_DONE").on("EVENT_MPROGRESS_DONE",function(){return console.log("EVENT_MPROGRESS_DONE"),b()})},a.dispatchEventDone=function(){$("#"+a.name).trigger("EVENT_MPROGRESS_DONE")},a.show=function(){$("#"+a.name).modal({backdrop:"static",keyboard:!1,show:!0})},a.hide=function(){var b,c;for(b=a.settings.progress,c=a.settings.ariavaluemax;c>=b;b++)$("#"+a.name+" .progress-bar").html(b+"%"),$("#"+a.name+" .progress-bar").attr("aria-valuenow",b),$("#"+a.name+" .progress-bar").css("width",b+"%");a.settings.progress=b,window.setTimeout(function(){$("#"+a.name+" .progress-bar").html("5%"),$("#"+a.name+" .progress-bar").attr("aria-valuenow",5),$("#"+a.name+" .progress-bar").css("width","5%"),$("#"+a.name).modal("hide")},1e3)},a.create=function(){0==$("#"+a.name).length&&$("html body").append(a.template),a.show()},a.start=function(){var b=0;$("#"+a.name).off("EVENT_MPROGRESS_DONE"),a.create(),a.settings.progress=Number(0),a.handle=window.setInterval(function(){a.settings.progress+=Number(5),a.settings.progress<a.settings.ariavaluemax&&($("#"+a.name+" .progress-bar").html(a.settings.progress+"%"),$("#"+a.name+" .progress-bar").attr("aria-valuenow",a.settings.progresss),$("#"+a.name+" .progress-bar").css("width",a.settings.progress+"%")),b>a.settings.secondstimeout&&a.done(),b++},a.settings.milliseconds)},a.done=function(){clearInterval(a.handle),a.dispatchEventDone(),a.hide()},a});