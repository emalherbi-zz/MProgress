!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.MProgress=b()}(this,function(){var a={};a.name="modal-mprogress",a.version="0.1.0",a.handle=null,a.progress=0,a.valuemin=0,a.valuemax=100;var b=a.settings={title:"MProgress ...",progressInc:5,progressUpdate:1,progressTimeout:30};return a.template='<div id="'+a.name+'" class="modal fade" ><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">'+a.settings.title+'</h4></div><div class="modal-body"><div class="progress"><div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="'+a.settings.progressInc+'" aria-valuemin="'+a.valuemin+'" aria-valuemax="'+a.valuemax+'" style="width: '+a.settings.progressInc+'%"> '+a.settings.progressInc+"%</div></div></div></div></div></div>",a.configure=function(c){var d,e;for(d in c)e=c[d],void 0!==e&&c.hasOwnProperty(d)&&(b[d]=e);return $("#"+a.name).remove(),a.template='<div id="'+a.name+'" class="modal fade" ><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">'+a.settings.title+'</h4></div><div class="modal-body"><div class="progress"><div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="'+a.settings.progressInc+'" aria-valuemin="'+a.valuemin+'" aria-valuemax="'+a.valuemax+'" style="width: '+a.settings.progressInc+'%"> '+a.settings.progressInc+"%</div></div></div></div></div></div>",this},a.eventDone=function(b){$("#"+a.name).off("EVENT_MPROGRESS_DONE").on("EVENT_MPROGRESS_DONE",function(){return console.log("EVENT_MPROGRESS_DONE"),b()})},a.dispatchEventDone=function(){$("#"+a.name).trigger("EVENT_MPROGRESS_DONE")},a.show=function(){$("#"+a.name).modal({backdrop:"static",keyboard:!1,show:!0})},a.hide=function(){var b,c;for(b=a.progress,c=a.valuemax;c>=b;b++)$("#"+a.name+" .progress-bar").html(b+"%"),$("#"+a.name+" .progress-bar").attr("aria-valuenow",b),$("#"+a.name+" .progress-bar").css("width",b+"%");a.progress=b,window.setTimeout(function(){$("#"+a.name+" .progress-bar").html("5%"),$("#"+a.name+" .progress-bar").attr("aria-valuenow",5),$("#"+a.name+" .progress-bar").css("width","5%"),$("#"+a.name).modal("hide")},1e3)},a.create=function(){0==$("#"+a.name).length&&$("html body").append(a.template),a.show()},a.start=function(){var b=0;$("#"+a.name).off("EVENT_MPROGRESS_DONE"),a.create(),a.progress=Number(a.settings.progressInc),a.handle=window.setInterval(function(){a.progress+=Number(a.settings.progressInc),a.progress<a.valuemax&&($("#"+a.name+" .progress-bar").html(a.progress+"%"),$("#"+a.name+" .progress-bar").attr("aria-valuenow",a.progresss),$("#"+a.name+" .progress-bar").css("width",a.progress+"%")),b>a.settings.progressTimeout/a.settings.progressUpdate&&a.done(),b++},1e3*a.settings.progressUpdate)},a.done=function(){clearInterval(a.handle),a.dispatchEventDone(),a.hide()},a});