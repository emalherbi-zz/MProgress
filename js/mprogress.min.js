!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.MProgress=b()}(this,function(){var a={};a.name="modal-mprogress",a.version="2.0.2",a.handle=null,a.progress=0,a.valuemin=0,a.valuemax=100;var b={},c=a.settings={title:"Processing...",progressInc:1,progressUpdate:.1,progressStriped:!1,progressClass:"info"};return a["class"]=a.settings.progressClass,a.striped=Boolean(a.settings.progressStriped)?"progress-bar-striped":"",a.template='<div id="'+a.name+'" class="modal fade" ><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">'+a.settings.title+'</h4></div><div class="modal-body"><div class="progress"><div class="progress-bar progress-bar-'+a["class"]+" "+a.striped+' active" role="progressbar" aria-valuenow="'+a.settings.progressInc+'" aria-valuemin="'+a.valuemin+'" aria-valuemax="'+a.valuemax+'" style="width: '+a.settings.progressInc+'%"> '+a.settings.progressInc+"%</div></div></div></div></div></div>",a.configure=function(d){$.extend(b,c);var e,f;for(e in d)f=d[e],f&&b.hasOwnProperty(e)&&(b[e]=f);return a["class"]=b.progressClass,a.striped=Boolean(b.progressStriped)?"progress-bar-striped":"",a.template='<div id="'+a.name+'" class="modal fade" ><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">'+b.title+'</h4></div><div class="modal-body"><div class="progress"><div class="progress-bar progress-bar-'+a["class"]+" "+a.striped+' active" role="progressbar" aria-valuenow="'+b.progressInc+'" aria-valuemin="'+a.valuemin+'" aria-valuemax="'+a.valuemax+'" style="width: '+b.progressInc+'%"> '+b.progressInc+"%</div></div></div></div></div></div>",$("#modal-mprogress").length&&$("#modal-mprogress .modal-title").text(b.title),this},a.show=function(){$("#"+a.name).modal({backdrop:"static",keyboard:!1,show:!0})},a.hide=function(){$("#"+a.name+" .progress-bar").html(a.valuemax+"%"),$("#"+a.name+" .progress-bar").attr("aria-valuenow",a.valuemax),$("#"+a.name+" .progress-bar").css("width",a.valuemax+"%"),window.setTimeout(function(){$("#"+a.name+" .progress-bar").html(a.settings.progressInc+"%"),$("#"+a.name+" .progress-bar").attr("aria-valuenow",a.settings.progressInc),$("#"+a.name+" .progress-bar").css("width",a.settings.progressInc+"%"),a.configure(),$("#"+a.name).modal("hide")},1e3)},a.create=function(){0==$("#"+a.name).length&&$("html body").append(a.template),a.destroy(),a.show()},a.destroy=function(){$("#"+a.name).on("hidden.bs.modal",function(){$(this).remove()})},a.start=function(){a.create(),a.progress=Number(a.settings.progressInc),a.handle=window.setInterval(function(){a.progress+=Number(a.settings.progressInc),a.progress<a.valuemax&&($("#"+a.name+" .progress-bar").html(a.progress.toFixed(0)+"%"),$("#"+a.name+" .progress-bar").attr("aria-valuenow",a.progresss),$("#"+a.name+" .progress-bar").css("width",a.progress+"%"))},1e3*a.settings.progressUpdate)},a.done=function(){clearInterval(a.handle),a.hide()},a});